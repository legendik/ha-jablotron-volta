# Jablotron Volta Dashboard
# Pro pouÅ¾itÃ­ v Home Assistantu - Settings > Dashboards > Add Dashboard (YAML)
# Nebo zkopÃ­ruj tento YAML do existujÃ­cÃ­ho dashboardu

title: Jablotron Volta
views:
  # ============================================================================
  # TAB 1: PÅ˜EHLED
  # ============================================================================
  - title: PÅ™ehled
    path: prehled
    icon: mdi:home-thermometer
    cards:
      # Climate Control
      - type: thermostat
        entity: climate.jablotron_volta
        name: Kotel Volta

      # HlavnÃ­ teploty
      - type: entities
        title: ğŸŒ¡ï¸ Teploty
        show_header_toggle: false
        entities:
          - entity: sensor.outdoor_temp_composite
            name: VenkovnÃ­ teplota (Composite)
            icon: mdi:thermometer
          - entity: sensor.outdoor_temp_damped
            name: VenkovnÃ­ teplota (TlumenÃ¡)
            icon: mdi:thermometer-lines
          - entity: sensor.boiler_water_input_temp
            name: Teplota vody - vstup
            icon: mdi:water-thermometer
          - entity: sensor.boiler_water_return_temp
            name: Teplota vody - vratnÃ¡
            icon: mdi:water-thermometer-outline
          - type: divider
          - entity: sensor.ch1_water_setpoint
            name: CH1 - PoÅ¾adovanÃ¡ teplota vody
            icon: mdi:target
          - entity: sensor.ch1_temperature_current
            name: CH1 - AktuÃ¡lnÃ­ teplota
            icon: mdi:thermometer

      # Stav kotle
      - type: entities
        title: âš™ï¸ Stav kotle
        show_header_toggle: false
        entities:
          - entity: select.regulation_mode
            name: ReÅ¾im regulace
            icon: mdi:cog
          - entity: sensor.boiler_active_segments
            name: AktivnÃ­ topnÃ© segmenty
            icon: mdi:heating-coil
          - entity: sensor.boiler_pressure
            name: Tlak v systÃ©mu
            icon: mdi:gauge
          - entity: sensor.cpu_temperature
            name: Teplota CPU
            icon: mdi:chip

      # Grafy teplot
      - type: history-graph
        title: ğŸ“ˆ Historie teplot (24h)
        hours_to_show: 24
        refresh_interval: 300
        entities:
          - entity: sensor.outdoor_temp_composite
            name: VenkovnÃ­ (Composite)
          - entity: sensor.boiler_water_input_temp
            name: Voda - vstup
          - entity: sensor.ch1_water_setpoint
            name: CH1 Setpoint

  # ============================================================================
  # TAB 2: EKVITERMNÃ REGULACE
  # ============================================================================
  - title: EkvitermnÃ­ kÅ™ivka
    path: ekviterm
    icon: mdi:chart-bell-curve
    cards:
      # AktuÃ¡lnÃ­ nastavenÃ­
      - type: markdown
        content: |
          ## ğŸ“Š EkvitermnÃ­ regulace
          
          **Jak to funguje:**
          - Kotel mÄ›nÃ­ teplotu vody podle venkovnÃ­ teploty
          - **Slope** = Jak moc se mÄ›nÃ­ (sklon kÅ™ivky)
          - **Offset** = Posun celÃ© kÅ™ivky nahoru/dolÅ¯
          - **Composite Ratio** = Mix aktuÃ¡lnÃ­ + tlumenÃ© teploty (0.5 = 50/50)
          
          **Tvoje nastavenÃ­ je optimalizovanÃ© pro podlahovÃ© topenÃ­!**

      # HlavnÃ­ parametry ekvitermu
      - type: entities
        title: âš™ï¸ NastavenÃ­ ekvitermnÃ­ kÅ™ivky
        show_header_toggle: false
        entities:
          - entity: number.ch1_equitherm_slope
            name: Sklon kÅ™ivky (Slope)
            icon: mdi:angle-acute
          - entity: number.ch1_equitherm_offset
            name: Posun kÅ™ivky (Offset)
            icon: mdi:arrow-up-down
          - entity: number.composite_filter_ratio
            name: Composite Filter Ratio
            icon: mdi:filter

      # VenkovnÃ­ teploty
      - type: entities
        title: ğŸŒ¡ï¸ VenkovnÃ­ teploty
        show_header_toggle: false
        entities:
          - entity: sensor.outdoor_temp_composite
            name: Composite (pouÅ¾ito pro ekviterm)
            icon: mdi:thermometer
          - entity: sensor.outdoor_temp_damped
            name: TlumenÃ¡
            icon: mdi:thermometer-lines
          - type: divider
          - entity: number.building_momentum
            name: Konstanta setrvaÄnosti budovy
            icon: mdi:timer-sand

      # VÃ½sledek - teplota vody
      - type: gauge
        entity: sensor.ch1_water_setpoint
        name: VÃ½slednÃ¡ teplota vody (CH1)
        min: 20
        max: 60
        severity:
          green: 30
          yellow: 45
          red: 55
        needle: true

      # Graf - ekvitermnÃ­ kÅ™ivka v akci
      - type: history-graph
        title: ğŸ“ˆ EkvitermnÃ­ regulace (48h)
        hours_to_show: 48
        refresh_interval: 300
        entities:
          - entity: sensor.outdoor_temp_composite
            name: VenkovnÃ­ (Composite)
          - entity: sensor.ch1_water_setpoint
            name: Teplota vody
          - entity: sensor.ch1_water_input_temp
            name: Voda vstup (skuteÄnÃ¡)

      # DoporuÄenÃ­
      - type: markdown
        content: |
          ### ğŸ’¡ Tipy pro doladÄ›nÃ­:
          
          **Je v zimÄ› zima?**
          - â„ï¸ Termostaty poÅ™Ã¡d otevÅ™enÃ©, teplota nikdy nedosÃ¡hne cÃ­le
          - ğŸ”§ **ZvyÅ¡ Slope** na 0.7 nebo 0.8
          
          **Je v pÅ™echodnÃ©m obdobÃ­ teplo?**
          - ğŸŒ¤ï¸ Termostaty poÅ™Ã¡d zavÅ™enÃ©, pÅ™ehÅ™Ã­vÃ¡nÃ­
          - ğŸ”§ **SniÅ¾ Slope** na 0.5 nebo 0.4
          
          **CelkovÄ› moc/mÃ¡lo topÃ­?**
          - ğŸ”§ Uprav **Offset** (Â±5Â°C)

  # ============================================================================
  # TAB 3: CH1 TOPNÃ OKRUH
  # ============================================================================
  - title: CH1 TopnÃ½ okruh
    path: ch1
    icon: mdi:radiator
    cards:
      # HlavnÃ­ info
      - type: markdown
        content: |
          ## ğŸ”¥ CH1 - TopnÃ½ okruh 1
          
          **ReÅ¾im:** EkvitermnÃ­ regulace  
          **Typ topenÃ­:** PodlahovÃ© topenÃ­  
          **Regulace mÃ­stnostÃ­:** ChytrÃ© termostaty na hlavicÃ­ch

      # AktuÃ¡lnÃ­ stav
      - type: entities
        title: ğŸ“Š AktuÃ¡lnÃ­ stav
        show_header_toggle: false
        entities:
          - entity: sensor.ch1_temperature_current
            name: AktuÃ¡lnÃ­ teplota
            icon: mdi:thermometer
          - entity: sensor.ch1_water_setpoint
            name: PoÅ¾adovanÃ¡ teplota vody
            icon: mdi:target
          - entity: sensor.ch1_water_input_temp
            name: Teplota vody - vstup
            icon: mdi:water-thermometer
          - entity: sensor.ch1_water_return_temp
            name: Teplota vody - vratnÃ¡
            icon: mdi:water-thermometer-outline

      # NastavenÃ­ teplot
      - type: entities
        title: ğŸ¯ NastavenÃ­ teplot
        show_header_toggle: false
        entities:
          - entity: number.ch1_temperature_desired
            name: PoÅ¾adovanÃ¡ teplota mÃ­stnosti
            icon: mdi:home-thermometer
          - entity: number.ch1_water_temp_min
            name: Min. teplota vody
            icon: mdi:thermometer-chevron-down
          - entity: number.ch1_water_temp_max
            name: Max. teplota vody
            icon: mdi:thermometer-chevron-up
          - entity: number.ch1_temperature_antifrost
            name: ProtimrazovÃ¡ teplota
            icon: mdi:snowflake-alert

      # EkvitermnÃ­ parametry
      - type: entities
        title: ğŸ“ˆ EkvitermnÃ­ parametry
        show_header_toggle: false
        entities:
          - entity: number.ch1_equitherm_slope
            name: Sklon kÅ™ivky (Slope)
            icon: mdi:angle-acute
          - entity: number.ch1_equitherm_offset
            name: Posun kÅ™ivky (Offset)
            icon: mdi:arrow-up-down
          - entity: number.ch1_equitherm_room_effect
            name: Vliv prostoru (Room Effect)
            icon: mdi:home-variant

      # PokroÄilÃ© funkce
      - type: entities
        title: âš™ï¸ PokroÄilÃ© funkce
        show_header_toggle: false
        entities:
          - entity: switch.ch1_optimal_start
            name: Optimal Start/Stop
            icon: mdi:clock-start
          - entity: number.ch1_hysteresis
            name: Hysteresis
            icon: mdi:sine-wave
          - entity: number.ch1_temp_correction
            name: Korekce teploty termostatu
            icon: mdi:thermometer-plus

      # Graf
      - type: history-graph
        title: ğŸ“ˆ Historie CH1 (24h)
        hours_to_show: 24
        refresh_interval: 300
        entities:
          - entity: sensor.ch1_water_setpoint
            name: Setpoint
          - entity: sensor.ch1_water_input_temp
            name: Vstup
          - entity: sensor.ch1_water_return_temp
            name: VratnÃ¡

      # DoporuÄenÃ­ pro tvoje nastavenÃ­
      - type: markdown
        content: |
          ### âœ… DoporuÄenÃ© nastavenÃ­ (tvÅ¯j systÃ©m):
          
          ```yaml
          Equitherm Slope:        0.6      âœ… DobÅ™e
          Equitherm Offset:       0Â°C      âœ… DobÅ™e
          Room Effect:            0%       âœ… DOPORUÄŒENO (mÃ¡Å¡ chytrÃ© termostaty)
          Temperature Correction: 0Â°C      âœ… SprÃ¡vnÄ› (topÃ­Å¡ ekvitermem)
          Optimal Start/Stop:     OFF      âœ… VYPNI (termostaty to dÄ›lajÃ­)
          Hysteresis:             2-3Â°C    âš ï¸ ZvyÅ¡ (teÄ 0.5Â°C je moc mÃ¡lo)
          ```

  # ============================================================================
  # TAB 4: SYSTÃ‰M & ÃšDRÅ½BA
  # ============================================================================
  - title: SystÃ©m
    path: system
    icon: mdi:cog
    cards:
      # ReÅ¾im kotle
      - type: entities
        title: ğŸ›ï¸ ReÅ¾im kotle
        show_header_toggle: false
        entities:
          - entity: select.regulation_mode
            name: ReÅ¾im regulace
            icon: mdi:cog
          - entity: binary_sensor.heating_active
            name: VytÃ¡pÄ›nÃ­ aktivnÃ­
            icon: mdi:fire

      # SystÃ©movÃ© informace
      - type: entities
        title: ğŸ“Ÿ SystÃ©movÃ© informace
        show_header_toggle: false
        entities:
          - entity: sensor.cpu_temperature
            name: Teplota CPU
            icon: mdi:chip
          - entity: sensor.battery_voltage
            name: NapÄ›tÃ­ baterie
            icon: mdi:battery
          - entity: sensor.boiler_pressure
            name: Tlak v systÃ©mu
            icon: mdi:gauge

      # TopnÃ© segmenty
      - type: entities
        title: ğŸ”¥ TopnÃ© segmenty
        show_header_toggle: false
        entities:
          - entity: sensor.boiler_active_segments
            name: AktivnÃ­ segmenty
            icon: mdi:heating-coil
          - entity: sensor.boiler_inactive_segments
            name: NeaktivnÃ­ segmenty
            icon: mdi:radiator-disabled

      # NastavenÃ­ kotle
      - type: entities
        title: âš™ï¸ NastavenÃ­ kotle
        show_header_toggle: false
        entities:
          - entity: number.boiler_water_setpoint
            name: PoÅ¾adovanÃ¡ teplota vody
            icon: mdi:water-thermometer
          - entity: number.boiler_water_temp_max
            name: Max. teplota vody
            icon: mdi:thermometer-chevron-up
          - entity: number.boiler_water_temp_min
            name: Min. teplota vody
            icon: mdi:thermometer-chevron-down

      # SÃ­Å¥ovÃ© nastavenÃ­ (read-only display)
      - type: entities
        title: ğŸŒ SÃ­Å¥
        show_header_toggle: false
        state_color: false
        entities:
          - entity: sensor.ip_address
            name: IP adresa
            icon: mdi:ip-network

      # Teploty kotle
      - type: glance
        title: ğŸŒ¡ï¸ Teploty kotle
        show_name: true
        show_state: true
        columns: 2
        entities:
          - entity: sensor.boiler_water_input_temp
            name: Vstup
          - entity: sensor.boiler_water_return_temp
            name: VratnÃ¡
          - entity: sensor.boiler_water_setpoint
            name: Setpoint
          - entity: sensor.cpu_temperature
            name: CPU

      # Tlak - gauge
      - type: gauge
        entity: sensor.boiler_pressure
        name: Tlak v systÃ©mu
        min: 0
        max: 3
        severity:
          green: 1
          yellow: 0.5
          red: 2.5
        needle: true
        unit: bar

  # ============================================================================
  # TAB 5: TUV (TeplÃ¡ uÅ¾itkovÃ¡ voda)
  # ============================================================================
  - title: TUV
    path: tuv
    icon: mdi:water-boiler
    cards:
      # Info
      - type: markdown
        content: |
          ## ğŸš¿ TUV - TeplÃ¡ uÅ¾itkovÃ¡ voda (DHW)

      # AktuÃ¡lnÃ­ stav
      - type: entities
        title: ğŸ“Š AktuÃ¡lnÃ­ stav
        show_header_toggle: false
        entities:
          - entity: sensor.dhw_temperature_current
            name: AktuÃ¡lnÃ­ teplota TUV
            icon: mdi:thermometer

      # NastavenÃ­
      - type: entities
        title: ğŸ¯ NastavenÃ­ TUV
        show_header_toggle: false
        entities:
          - entity: number.dhw_temperature_desired
            name: PoÅ¾adovanÃ¡ teplota
            icon: mdi:thermometer
          - entity: number.dhw_temperature_min
            name: Min. teplota
            icon: mdi:thermometer-chevron-down
          - entity: number.dhw_temperature_max
            name: Max. teplota
            icon: mdi:thermometer-chevron-up
          - entity: number.dhw_hysteresis
            name: Hysteresis
            icon: mdi:sine-wave

      # Graf
      - type: history-graph
        title: ğŸ“ˆ Historie TUV (24h)
        hours_to_show: 24
        refresh_interval: 300
        entities:
          - entity: sensor.dhw_temperature_current
            name: Teplota TUV

      # Gauge
      - type: gauge
        entity: sensor.dhw_temperature_current
        name: Teplota TUV
        min: 0
        max: 80
        severity:
          green: 45
          yellow: 35
          red: 70
        needle: true

  # ============================================================================
  # TAB 6: VÅ ECHNA NASTAVENÃ
  # ============================================================================
  - title: VÅ¡echna nastavenÃ­
    path: nastaveni
    icon: mdi:tune
    cards:
      # Warning
      - type: markdown
        content: |
          ## âš ï¸ PokroÄilÃ¡ nastavenÃ­
          
          **Pozor!** ZmÄ›na tÄ›chto parametrÅ¯ mÅ¯Å¾e ovlivnit efektivitu a komfort vytÃ¡pÄ›nÃ­.
          
          Pokud si nejsi jistÃ½, pouÅ¾ij doporuÄenÃ¡ nastavenÃ­ z tabu **CH1 TopnÃ½ okruh**.

      # Regulace
      - type: entities
        title: ğŸ“ Regulace
        show_header_toggle: false
        entities:
          - entity: number.building_momentum
            name: Konstanta setrvaÄnosti budovy
          - entity: number.composite_filter_ratio
            name: Composite Filter Ratio

      # CH1 - VÅ¡echna nastavenÃ­
      - type: entities
        title: ğŸ”¥ CH1 - KompletnÃ­ nastavenÃ­
        show_header_toggle: false
        entities:
          - type: section
            label: Teploty
          - entity: number.ch1_temperature_desired
            name: PoÅ¾adovanÃ¡ teplota
          - entity: number.ch1_temperature_min
            name: Min. teplota
          - entity: number.ch1_temperature_max
            name: Max. teplota
          - entity: number.ch1_temperature_antifrost
            name: ProtimrazovÃ¡ teplota
          - type: section
            label: Voda
          - entity: number.ch1_water_temp_min
            name: Min. teplota vody
          - entity: number.ch1_water_temp_max
            name: Max. teplota vody
          - type: section
            label: EkvitermnÃ­ kÅ™ivka
          - entity: number.ch1_equitherm_slope
            name: Slope
          - entity: number.ch1_equitherm_offset
            name: Offset
          - entity: number.ch1_equitherm_room_effect
            name: Room Effect
          - type: section
            label: PokroÄilÃ©
          - entity: number.ch1_hysteresis
            name: Hysteresis
          - entity: number.ch1_temp_correction
            name: Korekce teploty
          - entity: switch.ch1_optimal_start
            name: Optimal Start/Stop

      # Kotel
      - type: entities
        title: ğŸ­ Kotel
        show_header_toggle: false
        entities:
          - entity: number.boiler_water_setpoint
            name: Setpoint teploty vody
          - entity: number.boiler_water_temp_min
            name: Min. teplota
          - entity: number.boiler_water_temp_max
            name: Max. teplota

      # TUV
      - type: entities
        title: ğŸš¿ TUV
        show_header_toggle: false
        entities:
          - entity: number.dhw_temperature_desired
            name: PoÅ¾adovanÃ¡ teplota
          - entity: number.dhw_temperature_min
            name: Min. teplota
          - entity: number.dhw_temperature_max
            name: Max. teplota
          - entity: number.dhw_hysteresis
            name: Hysteresis

  # ============================================================================
  # TAB 7: DIAGNOSTIKA
  # ============================================================================
  - title: Diagnostika
    path: diagnostika
    icon: mdi:bug
    cards:
      # Info
      - type: markdown
        content: |
          ## ğŸ” Diagnostika a debug
          
          Zde najdeÅ¡ podrobnÃ© informace pro ladÄ›nÃ­ a diagnostiku systÃ©mu.

      # VÅ¡echny teploty
      - type: entities
        title: ğŸŒ¡ï¸ VÅ¡echny teploty
        show_header_toggle: false
        entities:
          - type: section
            label: VenkovnÃ­
          - entity: sensor.outdoor_temp_composite
            name: Composite (pouÅ¾ito pro ekviterm)
          - entity: sensor.outdoor_temp_damped
            name: TlumenÃ¡
          - type: section
            label: Kotel
          - entity: sensor.boiler_water_input_temp
            name: Vstup
          - entity: sensor.boiler_water_return_temp
            name: VratnÃ¡
          - entity: sensor.boiler_water_setpoint
            name: Setpoint
          - entity: sensor.cpu_temperature
            name: CPU
          - type: section
            label: CH1
          - entity: sensor.ch1_temperature_current
            name: AktuÃ¡lnÃ­
          - entity: sensor.ch1_water_setpoint
            name: Setpoint vody
          - entity: sensor.ch1_water_input_temp
            name: Voda vstup
          - entity: sensor.ch1_water_return_temp
            name: Voda vratnÃ¡
          - type: section
            label: TUV
          - entity: sensor.dhw_temperature_current
            name: AktuÃ¡lnÃ­

      # Modbus diagnostika
      - type: entities
        title: ğŸ”Œ Modbus
        show_header_toggle: false
        entities:
          - entity: sensor.ip_address
            name: IP adresa
            icon: mdi:ip-network

      # SystÃ©m
      - type: entities
        title: ğŸ’¾ SystÃ©m
        show_header_toggle: false
        entities:
          - entity: sensor.cpu_temperature
            name: Teplota CPU
          - entity: sensor.battery_voltage
            name: Baterie
          - entity: sensor.boiler_pressure
            name: Tlak
          - entity: sensor.boiler_active_segments
            name: AktivnÃ­ segmenty
          - entity: sensor.boiler_inactive_segments
            name: NeaktivnÃ­ segmenty

      # Multi-graph vÅ¡ech teplot
      - type: history-graph
        title: ğŸ“Š VÅ¡echny teploty (24h)
        hours_to_show: 24
        refresh_interval: 300
        entities:
          - entity: sensor.outdoor_temp_composite
            name: VenkovnÃ­
          - entity: sensor.boiler_water_input_temp
            name: Kotel vstup
          - entity: sensor.ch1_water_setpoint
            name: CH1 setpoint
          - entity: sensor.ch1_water_input_temp
            name: CH1 vstup
          - entity: sensor.dhw_temperature_current
            name: TUV

      # Energie spotÅ™eba (pokud mÃ¡Å¡)
      - type: markdown
        content: |
          ### ğŸ’¡ Pro sledovÃ¡nÃ­ spotÅ™eby energie:
          
          Pokud chceÅ¡ sledovat spotÅ™ebu elektÅ™iny kotle, pÅ™ipoj energetickÃ½ mÄ›Å™iÄ
          (napÅ™. Shelly EM) a pÅ™idej sem entity pro:
          - AktuÃ¡lnÃ­ pÅ™Ã­kon (W)
          - DennÃ­ spotÅ™eba (kWh)
          - MÄ›sÃ­ÄnÃ­ spotÅ™eba (kWh)
